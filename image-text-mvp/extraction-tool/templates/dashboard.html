{% extends "base.html" %}

{% block title %}Dashboard - Image Text Extraction{% endblock %}

{% block content %}
<div class="card">
    <h2 style="margin-bottom: 1.5rem;">Dashboard</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        <div style="background: #ecf0f1; padding: 1.5rem; border-radius: 8px; text-align: center;">
            <h3 style="color: #7f8c8d; font-size: 0.9rem; text-transform: uppercase; margin-bottom: 0.5rem;">Total Images</h3>
            <p style="font-size: 2.5rem; font-weight: bold; color: #2c3e50;">{{ stats.total_images or 0 }}</p>
        </div>
        
        <div style="background: #d4edda; padding: 1.5rem; border-radius: 8px; text-align: center;">
            <h3 style="color: #155724; font-size: 0.9rem; text-transform: uppercase; margin-bottom: 0.5rem;">Processed</h3>
            <p style="font-size: 2.5rem; font-weight: bold; color: #155724;">{{ stats.processed_images or 0 }}</p>
        </div>
        
        <div style="background: #fff3cd; padding: 1.5rem; border-radius: 8px; text-align: center;">
            <h3 style="color: #856404; font-size: 0.9rem; text-transform: uppercase; margin-bottom: 0.5rem;">Remaining</h3>
            <p style="font-size: 2.5rem; font-weight: bold; color: #856404;">{{ (stats.total_images or 0) - (stats.processed_images or 0) }}</p>
        </div>
        
        <div style="background: #d1ecf1; padding: 1.5rem; border-radius: 8px; text-align: center;">
            <h3 style="color: #0c5460; font-size: 0.9rem; text-transform: uppercase; margin-bottom: 0.5rem;">Progress</h3>
            <p style="font-size: 2.5rem; font-weight: bold; color: #0c5460;">
                {% if stats.total_images and stats.total_images > 0 %}
                    {{ ((stats.processed_images or 0) / stats.total_images * 100) | round | int }}%
                {% else %}
                    0%
                {% endif %}
            </p>
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 2rem;">
        <a href="{{ url_for('upload') }}" class="btn" style="margin-right: 1rem;">Upload New Image</a>
        {% if (stats.total_images or 0) - (stats.processed_images or 0) > 0 %}
            <a href="{{ url_for('batch') }}" class="btn btn-secondary">Continue Processing</a>
        {% endif %}
    </div>
</div>
{% endblock %}